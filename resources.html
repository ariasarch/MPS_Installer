<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MPS ‚Äì Resources</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="neumaierlabdesign.png" />
  <link rel="apple-touch-icon" href="neumaierlabdesign.png" />
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Inter','Helvetica Neue',Arial,sans-serif}
    body{background:#000;color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center}
    .container{max-width:1000px;width:100%;padding:20px}
    .header{text-align:center;padding:40px 0 20px}
    .logo-image{max-width:220px;width:100%;height:auto}
    .nav-tabs{display:flex;justify-content:center;gap:10px;margin:20px 0 40px;border-bottom:2px solid #2a2a2a}
    .nav-tab{padding:12px 24px;background:transparent;color:#a9a9a9;border:none;border-bottom:2px solid transparent;cursor:pointer;font-size:16px;font-weight:500;transition:.3s;margin-bottom:-2px;text-decoration:none;display:inline-block}
    .nav-tab:hover{color:#fff;background:#1a1a1a}
    .nav-tab.active{color:#fff;border-bottom-color:#fff}

    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin:20px 0}
    .feature{background:#1e1e1e;border-radius:12px;padding:30px;border:1px solid #2a2a2a;transition:.3s}
    .feature:hover{transform:translateY(-5px);border-color:#444;box-shadow:0 10px 30px rgba(0,0,0,.3)}
    .feature-icon{font-size:36px;margin-bottom:20px}
    .feature-title{font-size:22px;margin-bottom:12px;color:#fff;font-weight:600}
    .feature-description{font-size:16px;color:#a9a9a9;line-height:1.6}
    .footer-link{color:#4a9eff;text-decoration:none}
    .footer-link:hover{text-decoration:underline;color:#6ab7ff}

    .section{margin:30px 0}
    .section-title{font-size:28px;margin-bottom:16px;font-weight:600;position:relative;display:inline-block}
    .section-title:after{content:'';position:absolute;left:0;bottom:-8px;width:50px;height:3px;background:#444}

    footer{margin-top:auto;width:100%;background:#000;padding:30px 0;text-align:center;border-top:1px solid #2a2a2a}
    .footer-content{max-width:1000px;margin:0 auto;padding:0 20px}
    .footer-links{display:flex;justify-content:center;gap:30px;margin-bottom:20px;flex-wrap:wrap}
    .footlink{color:#a9a9a9;text-decoration:none}
    .footlink:hover{color:#fff}
    .footer-text{font-size:14px;color:#666;margin-top:20px}

    /* FAQ */
    .faq{margin-top:30px}
    .faq-item{background:#1e1e1e;border:1px solid #2a2a2a;border-radius:12px;padding:18px 20px;margin-bottom:14px}
    .faq-item summary{cursor:pointer;font-size:18px;font-weight:600;color:#fff;list-style:none}
    .faq-item summary::-webkit-details-marker{display:none}
    .faq-item p{margin-top:12px;color:#a9a9a9;line-height:1.7;font-size:15px}
    .faq-item a{color:#4a9eff;text-decoration:none}
    .faq-item a:hover{text-decoration:underline;color:#6ab7ff}
    .faq-meta{color:#666;font-size:13px;margin-top:10px}

  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <img src="neumaierlabdesign.png" alt="MPS" class="logo-image" />
    </header>

    <nav class="nav-tabs">
      <a class="nav-tab" href="index.html">Overview</a>
      <a class="nav-tab" href="docs.html">Documentation</a>
      <a class="nav-tab" href="installation.html">Installation</a>
      <a class="nav-tab active" href="resources.html">Resources</a>
    </nav>

    <section class="section">
      <h2 class="section-title">üîó Helpful Resources</h2>
      <div class="features">
        <div class="feature">
          <div class="feature-icon">üíª</div>
          <h3 class="feature-title">Source Code</h3>
          <p class="feature-description">Access the complete MPS source code or customize for your lab.</p>
          <a href="https://github.com/ariasarch/MPS_1.0.0.git" class="footer-link">View on GitHub ‚Üí</a>
        </div>

        <div class="feature">
          <div class="feature-icon">üêû</div>
          <h3 class="feature-title">Issue Tracker</h3>
          <p class="feature-description">Report bugs, request features, and follow progress.</p>
          <a href="https://github.com/ariasarch/MPS_Installer/issues" class="footer-link">Report an Issue ‚Üí</a>
        </div>
      </div>

      <div class="faq">
        <h3 class="feature-title" style="margin:10px 0 14px">FAQ: Walkthrough + Troubleshooting (Jan 2)</h3>
      
        <details class="faq-item">
          <summary>Can I automate MPS across steps without using an API?</summary>
          <p>
            Yes. Use the <strong>Automation</strong> tab, load a parameter file, then toggle <strong>Auto Run</strong> to run the pipeline steps for a session.
            This covers most ‚ÄúAPI-like‚Äù needs for now.
          </p>
        </details>

          <details class="faq-item">
            <summary>macOS install fails with ‚Äúrsync: Permission denied‚Äù ‚Äî what‚Äôs going on?</summary>
            <p>
              This error occurs when macOS blocks the installer from writing into protected system directories
              (most commonly <code>/Applications</code>) without sufficient privileges.
            </p>
            <p>
              To fix this:
              <ul>
                <li>Re-run the installer and choose a user-writable location (for example, <code>~/Applications</code> or your home directory).</li>
                <li>Alternatively, grant the installer permission via <strong>System Settings ‚Üí Privacy &amp; Security</strong>
                    (Full Disk Access may be required).</li>
                <li>If running from Terminal, ensure the destination directory exists and is writable.</li>
              </ul>
            </p>
            <p>
              After updating permissions, re-run the installer. Installation has been verified on clean macOS systems
              using these steps.
            </p>
            <p class="faq-meta">
              Spanish practice: ‚Äú<strong>permisos</strong>‚Äù means permissions ‚Äî macOS is muy estricta (very strict) about them.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Why isn‚Äôt there a recommended ‚Äúrun everything for all sessions‚Äù button?</summary>
          <p>
            Session-to-session variability is real. Even within the same animal, different sessions can need different parameter ‚Äúloving care.‚Äù
            Bulk processing is possible, but it can silently bake in mistakes, so the default workflow prioritizes per-session validation.
            <span class="faq-meta">Spanish practice: ‚Äúcuidado‚Äù means care.</span>
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Step 2 (Background init / noise): what ‚Äúgood‚Äù looks like</summary>
          <p>
            The key sanity check is the red trace: it should be relatively flat. If you see big spikes or parabola-like artifacts, adjust background/noise parameters.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Denoising: how do I validate it?</summary>
          <p>
            There is no single perfect visual check. For now, treat denoising as a standard preprocessing step.
            If your pipeline produces weird ‚Äúglow removal‚Äù artifacts, it is usually fixable via parameter tuning and more conservative recording brightness (see below).
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Motion correction: what should I look for?</summary>
          <p>
            Check the motion summary plots and the distribution. If motion is small and stable (no ‚Äúcrazy‚Äù jumps), your surgery and recording stability are likely good.
            Line-splitting artifacts often show up here; the pipeline is designed to remove many of those.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>NNDSVD inspection: what should the singular values look like?</summary>
          <p>
            You want a smooth decay curve, not a spiky pattern. Component 0 is typically background and should be much larger than others.
            Early components should capture most visible structure; later components capture small variations that add up downstream.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Why do I see thousands of components? Is that ‚Äúwrong‚Äù?</summary>
          <p>
            Not automatically. It often means parameters are too permissive early (especially minimum component size). It is easier to remove extra components later than recover missed ones,
            but thousands can slow later steps. Increase <strong>minimum component size</strong> and related pruning thresholds to reduce tiny ‚Äúdot‚Äù components.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Merge thresholds: what do temporal correlation and spatial overlap mean?</summary>
          <p>
            Both are 0 to 1 thresholds. Increasing them makes merges stricter. If you want cleaner separation, raise the overlap threshold (example: 0.9 instead of ~0.5),
            and increase temporal correlation only if your expected cell size and imaging resolution support it.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>AR order (1 vs 2): how do I choose?</summary>
          <p>
            AR=1 favors simple calcium-like dynamics. AR=2 can capture tighter timing structure, but may admit more noise artifacts.
            If you are seeing too many fast, noise-like events, AR=1 can help. If you expect very fast dynamics, AR=2 may be justified.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>What parameters matter most when signals look ‚Äútoo oscillatory‚Äù or too noisy?</summary>
          <p>
            Start with: <strong>zero threshold</strong> (raise it if you have too many tiny components),
            <strong>sparse penalty</strong> (increase to discourage diffuse/global signals),
            and basic pruning thresholds like minimum spike std, minimum calcium variance, and minimum spatial std.
            Don‚Äôt over-optimize early rounds; later QC filters exist.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>What are the best recording conditions (brightness)?</summary>
          <p>
            Aim for ‚Äúas dim as possible while still seeing cells,‚Äù similar to a game brightness slider where you keep it just barely visible.
            Overly bright recordings can increase autofluorescent background and swamp real signals.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Global fluorescence / ‚Äúwhole-field firing‚Äù: can MPS remove it?</summary>
          <p>
            Sometimes. Global signals can leak into temporal components when the model is allowed to explain too much shared variance.
            Options include: tightening sparsity, using AR=1 in cases where AR=2 is admitting fast artifacts, and applying post hoc frequency-based filtering if the pattern is clearly periodic.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>1p vs 2p: how do background removal and denoising relate?</summary>
          <p>
            In this pipeline, background removal is implemented via deglow plus denoising steps (conceptually similar to other 1p pipelines).
            More customization and better visualization for early steps is planned, but you can always inspect the implementation directly in the source.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Should we use machine learning segmentation instead of CNMF?</summary>
          <p>
            CNMF remains a strong ‚Äúgold standard‚Äù for many 1p use cases. ML methods can work well but often require training data matched to your lens, expression, and brain region.
            They can also miss rare but meaningful signals due to long-tail generalization issues. If you need maximum interpretability, CNMF-style pipelines still win for many labs.
          </p>
        </details>
      
        <details class="faq-item">
          <summary>Where should I report bugs or ask questions?</summary>
          <p>
            Use the GitHub Issue Tracker linked above:
            <a href="https://github.com/ariasarch/MPS_1.0.0/issues">https://github.com/ariasarch/MPS_1.0.0/issues</a>.
            Reporting publicly helps others and makes fixes easier to track.
          </p>
        </details>
      </div>
      
    </section>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <a class="footlink" href="index.html">Home</a>
        <a class="footlink" href="docs.html">Documentation</a>
        <a class="footlink" href="installation.html">Installation</a>
      </div>
      <p class="footer-text">
        ¬© 2024 Neumaier Lab ‚Ä¢ MPS ‚Äì Miniscope Processing Suite ‚Ä¢ Use requires attribution ‚Äî see
        <a class="footer-link" href="LICENSE">License</a>
      </p>
    </div>
  </footer>
</body>
</html>
